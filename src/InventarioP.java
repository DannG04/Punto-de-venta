
import java.awt.event.KeyEvent;
import javax.swing.table.DefaultTableModel;

/*
 * Click nbfs://nbhost/SystemFileSystem/Templates/Licenses/license-default.txt to change this license
 * Click nbfs://nbhost/SystemFileSystem/Templates/GUIForms/JPanel.java to edit this template
 */

/**
 *
 * @author 76905
 */
public class InventarioP extends javax.swing.JPanel {

    static DefaultTableModel modelo = new DefaultTableModel();
    boolean aux = false;
    ConexionBD conect = new ConexionBD();
    
    /**
     * Creates new form Inventario
     */
    public InventarioP() {
        initComponents();
        modelo=(DefaultTableModel)tablaVentas.getModel();
        mostrarTabla("");
    }

    /**
     * This method is called from within the constructor to initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is always
     * regenerated by the Form Editor.
     */
    @SuppressWarnings("unchecked")
    // <editor-fold defaultstate="collapsed" desc="Generated Code">//GEN-BEGIN:initComponents
    private void initComponents() {
        java.awt.GridBagConstraints gridBagConstraints;

        jDialog1 = new javax.swing.JDialog();
        leibel = new javax.swing.JLabel();
        jLabel3 = new javax.swing.JLabel();
        jLabel4 = new javax.swing.JLabel();
        precMen = new javax.swing.JFormattedTextField();
        jLabel5 = new javax.swing.JLabel();
        precMay = new javax.swing.JFormattedTextField();
        jLabel6 = new javax.swing.JLabel();
        cadd = new javax.swing.JFormattedTextField();
        labelinc = new javax.swing.JLabel();
        hechoIns = new javax.swing.JButton();
        hechoAct = new javax.swing.JButton();
        jScrollPane2 = new javax.swing.JScrollPane();
        nom = new javax.swing.JTextPane();
        jPanel1 = new javax.swing.JPanel();
        jLabel1 = new javax.swing.JLabel();
        buskProd = new javax.swing.JFormattedTextField();
        sumLabel = new javax.swing.JLabel();
        panelBotones = new javax.swing.JPanel();
        agB = new javax.swing.JButton();
        eliB = new javax.swing.JButton();
        actB = new javax.swing.JButton();
        jScrollPane1 = new javax.swing.JScrollPane();
        tablaVentas = new javax.swing.JTable();

        jDialog1.setAlwaysOnTop(true);
        jDialog1.setMinimumSize(new java.awt.Dimension(510, 420));
        jDialog1.setModal(true);
        jDialog1.setPreferredSize(new java.awt.Dimension(510, 420));
        jDialog1.setSize(new java.awt.Dimension(510, 420));
        jDialog1.getContentPane().setLayout(new java.awt.GridBagLayout());

        leibel.setFont(new java.awt.Font("Noto Serif", 1, 17)); // NOI18N
        leibel.setForeground(new java.awt.Color(121, 167, 167));
        leibel.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);
        leibel.setText("El ID del producto se asignará automáticamente");
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 0;
        gridBagConstraints.gridwidth = 2;
        gridBagConstraints.ipadx = 16;
        gridBagConstraints.insets = new java.awt.Insets(10, 10, 10, 10);
        jDialog1.getContentPane().add(leibel, gridBagConstraints);

        jLabel3.setFont(new java.awt.Font("Noto Serif", 1, 18)); // NOI18N
        jLabel3.setForeground(new java.awt.Color(78, 150, 150));
        jLabel3.setText("Nombre: ");
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 1;
        gridBagConstraints.ipadx = 16;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;
        gridBagConstraints.insets = new java.awt.Insets(10, 10, 10, 10);
        jDialog1.getContentPane().add(jLabel3, gridBagConstraints);

        jLabel4.setFont(new java.awt.Font("Noto Serif", 1, 18)); // NOI18N
        jLabel4.setForeground(new java.awt.Color(78, 150, 150));
        jLabel4.setText("Precio Mayoreo:");
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 3;
        gridBagConstraints.ipadx = 16;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;
        gridBagConstraints.insets = new java.awt.Insets(10, 10, 10, 10);
        jDialog1.getContentPane().add(jLabel4, gridBagConstraints);

        precMen.setFont(new java.awt.Font("Noto Serif", 1, 18)); // NOI18N
        precMen.setPreferredSize(new java.awt.Dimension(200, 35));
        precMen.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyTyped(java.awt.event.KeyEvent evt) {
                precMenKeyTyped(evt);
            }
        });
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 1;
        gridBagConstraints.gridy = 2;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;
        gridBagConstraints.insets = new java.awt.Insets(10, 10, 10, 10);
        jDialog1.getContentPane().add(precMen, gridBagConstraints);

        jLabel5.setFont(new java.awt.Font("Noto Serif", 1, 18)); // NOI18N
        jLabel5.setForeground(new java.awt.Color(78, 150, 150));
        jLabel5.setText("Cantidad: ");
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 4;
        gridBagConstraints.ipadx = 16;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;
        gridBagConstraints.insets = new java.awt.Insets(10, 10, 10, 10);
        jDialog1.getContentPane().add(jLabel5, gridBagConstraints);

        precMay.setFont(new java.awt.Font("Noto Serif", 1, 18)); // NOI18N
        precMay.setPreferredSize(new java.awt.Dimension(200, 35));
        precMay.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyTyped(java.awt.event.KeyEvent evt) {
                precMayKeyTyped(evt);
            }
        });
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 1;
        gridBagConstraints.gridy = 3;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;
        gridBagConstraints.insets = new java.awt.Insets(10, 10, 10, 10);
        jDialog1.getContentPane().add(precMay, gridBagConstraints);

        jLabel6.setFont(new java.awt.Font("Noto Serif", 1, 18)); // NOI18N
        jLabel6.setForeground(new java.awt.Color(78, 150, 150));
        jLabel6.setText("Precio Menudeo:");
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 2;
        gridBagConstraints.ipadx = 16;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;
        gridBagConstraints.insets = new java.awt.Insets(10, 10, 10, 10);
        jDialog1.getContentPane().add(jLabel6, gridBagConstraints);

        cadd.setFont(new java.awt.Font("Noto Serif", 1, 18)); // NOI18N
        cadd.setPreferredSize(new java.awt.Dimension(200, 35));
        cadd.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyTyped(java.awt.event.KeyEvent evt) {
                caddKeyTyped(evt);
            }
        });
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 1;
        gridBagConstraints.gridy = 4;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;
        gridBagConstraints.insets = new java.awt.Insets(10, 10, 10, 10);
        jDialog1.getContentPane().add(cadd, gridBagConstraints);

        labelinc.setFont(new java.awt.Font("Noto Serif", 0, 12)); // NOI18N
        labelinc.setForeground(new java.awt.Color(204, 0, 51));
        labelinc.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);
        labelinc.setText(" ");
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 5;
        gridBagConstraints.gridwidth = 2;
        jDialog1.getContentPane().add(labelinc, gridBagConstraints);

        hechoIns.setFont(new java.awt.Font("Noto Serif", 1, 20)); // NOI18N
        hechoIns.setForeground(new java.awt.Color(78, 150, 150));
        hechoIns.setText("Hecho");
        hechoIns.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                hechoInsActionPerformed(evt);
            }
        });
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 6;
        gridBagConstraints.gridwidth = 2;
        gridBagConstraints.insets = new java.awt.Insets(30, 10, 10, 10);
        jDialog1.getContentPane().add(hechoIns, gridBagConstraints);
        hechoIns.setVisible(false);

        hechoAct.setFont(new java.awt.Font("Noto Serif", 1, 20)); // NOI18N
        hechoAct.setForeground(new java.awt.Color(78, 150, 150));
        hechoAct.setText("Hecho");
        hechoAct.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                hechoActActionPerformed(evt);
            }
        });
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 6;
        gridBagConstraints.gridwidth = 2;
        gridBagConstraints.insets = new java.awt.Insets(30, 10, 10, 10);
        jDialog1.getContentPane().add(hechoAct, gridBagConstraints);
        hechoAct.setVisible(false);

        jScrollPane2.setPreferredSize(new java.awt.Dimension(200, 35));

        nom.setFont(new java.awt.Font("Noto Serif", 1, 18)); // NOI18N
        nom.setPreferredSize(new java.awt.Dimension(200, 35));
        nom.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyTyped(java.awt.event.KeyEvent evt) {
                nomKeyTyped(evt);
            }
        });
        jScrollPane2.setViewportView(nom);

        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 1;
        gridBagConstraints.gridy = 1;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;
        gridBagConstraints.insets = new java.awt.Insets(5, 5, 5, 5);
        jDialog1.getContentPane().add(jScrollPane2, gridBagConstraints);

        jDialog1.setLocationRelativeTo(null);

        setLayout(new java.awt.BorderLayout());

        jPanel1.setLayout(new java.awt.GridBagLayout());

        jLabel1.setFont(new java.awt.Font("Noto Serif", 1, 36)); // NOI18N
        jLabel1.setForeground(new java.awt.Color(78, 150, 150));
        jLabel1.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);
        jLabel1.setText("Inventario");
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 0;
        gridBagConstraints.gridwidth = 2;
        gridBagConstraints.ipadx = 10;
        gridBagConstraints.ipady = 10;
        gridBagConstraints.insets = new java.awt.Insets(10, 10, 10, 10);
        jPanel1.add(jLabel1, gridBagConstraints);

        buskProd.setFont(new java.awt.Font("Noto Serif", 0, 18)); // NOI18N
        buskProd.setPreferredSize(new java.awt.Dimension(1300, 30));
        buskProd.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyReleased(java.awt.event.KeyEvent evt) {
                buskProdKeyReleased(evt);
            }
            public void keyTyped(java.awt.event.KeyEvent evt) {
                buskProdKeyTyped(evt);
            }
        });
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 1;
        gridBagConstraints.gridy = 1;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.EAST;
        gridBagConstraints.insets = new java.awt.Insets(10, 10, 10, 0);
        jPanel1.add(buskProd, gridBagConstraints);

        sumLabel.setBackground(new java.awt.Color(255, 255, 255));
        sumLabel.setFont(new java.awt.Font("Noto Serif", 1, 20)); // NOI18N
        sumLabel.setForeground(new java.awt.Color(78, 150, 150));
        sumLabel.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);
        sumLabel.setText("Buscar:");
        sumLabel.setPreferredSize(new java.awt.Dimension(81, 40));
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 1;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.EAST;
        gridBagConstraints.insets = new java.awt.Insets(10, 10, 10, 10);
        jPanel1.add(sumLabel, gridBagConstraints);

        add(jPanel1, java.awt.BorderLayout.NORTH);

        panelBotones.setLayout(new java.awt.GridBagLayout());

        agB.setFont(new java.awt.Font("Noto Serif", 1, 18)); // NOI18N
        agB.setForeground(new java.awt.Color(78, 150, 150));
        agB.setText("Agregar");
        agB.setPreferredSize(new java.awt.Dimension(125, 33));
        agB.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                agBActionPerformed(evt);
            }
        });
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 0;
        gridBagConstraints.insets = new java.awt.Insets(10, 30, 10, 30);
        panelBotones.add(agB, gridBagConstraints);

        eliB.setFont(new java.awt.Font("Noto Serif", 1, 18)); // NOI18N
        eliB.setForeground(new java.awt.Color(78, 150, 150));
        eliB.setText("Eliminar");
        eliB.setPreferredSize(new java.awt.Dimension(125, 33));
        eliB.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                eliBActionPerformed(evt);
            }
        });
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 1;
        gridBagConstraints.insets = new java.awt.Insets(10, 30, 10, 30);
        panelBotones.add(eliB, gridBagConstraints);

        actB.setFont(new java.awt.Font("Noto Serif", 1, 18)); // NOI18N
        actB.setForeground(new java.awt.Color(78, 150, 150));
        actB.setText("Actualizar");
        actB.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                actBActionPerformed(evt);
            }
        });
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 2;
        gridBagConstraints.insets = new java.awt.Insets(10, 30, 10, 30);
        panelBotones.add(actB, gridBagConstraints);

        add(panelBotones, java.awt.BorderLayout.EAST);

        jScrollPane1.setPreferredSize(new java.awt.Dimension(540, 402));

        tablaVentas.setFont(new java.awt.Font("Noto Serif", 0, 14)); // NOI18N
        tablaVentas.setModel(new javax.swing.table.DefaultTableModel(
            new Object [][] {

            },
            new String [] {
                "Código", "Producto", "Cantidad", "Precio Mayoreo", "Precio Menudeo"
            }
        ) {
            boolean[] canEdit = new boolean [] {
                false, false, false, false, false
            };

            public boolean isCellEditable(int rowIndex, int columnIndex) {
                return canEdit [columnIndex];
            }
        });
        jScrollPane1.setViewportView(tablaVentas);

        add(jScrollPane1, java.awt.BorderLayout.CENTER);
    }// </editor-fold>//GEN-END:initComponents

    private void eliBActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_eliBActionPerformed
        // TODO add your handling code here:
        
        if(tablaVentas.getSelectedRow() != -1){
            int resp = Mise.JOptionYesNo("¿Seguro que desea eliminar esta fila?", "Eliminar");
            if(resp == 0){
                int a = tablaVentas.getSelectedRow();
                if(conect.eliminarProducto("" + modelo.getValueAt(a, 0))){//Si se elimina muestra la nueva tabla
                    mostrarTabla("");
                }
            }
        }
        else
            Mise.JOption("Debe seleccionar la fila que desea eliminar", "Error", javax.swing.JOptionPane.ERROR_MESSAGE);
    }//GEN-LAST:event_eliBActionPerformed

    private void agBActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_agBActionPerformed
        // TODO add your handling code here:
        jDialog1.setTitle("Agregar Producto");
        leibel.setText("El ID del producto se asigna automáticamente");
        nom.setText("");
        precMen.setText("");
        precMay.setText("");
        cadd.setText("");
        labelinc.setText("");
        hechoIns.setVisible(true);
        hechoAct.setVisible(false);
        jDialog1.setVisible(true);
        aux = false;
    }//GEN-LAST:event_agBActionPerformed

    private void actBActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_actBActionPerformed
        // ACTUALIZAR
        if(tablaVentas.getSelectedRow() != -1){
            jDialog1.setTitle("Actualizar Producto");
            labelinc.setText("");
            int a = tablaVentas.getSelectedRow();
            hechoIns.setVisible(false);
            hechoAct.setVisible(true);
            //MOSTRAR LOS DATOS EN EL FIELD
            mostrarDAct(a);
            jDialog1.setVisible(true);
            aux = false;
        }
        else
            Mise.JOption("Debe seleccionar la fila que desea actualizar", "Error", javax.swing.JOptionPane.ERROR_MESSAGE);
    }//GEN-LAST:event_actBActionPerformed

    private void buskProdKeyTyped(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_buskProdKeyTyped
        char letra = evt.getKeyChar();
        if(!Cake.letrasMayus(letra) && !Cake.letrasMinus(letra) && !Cake.numeros(letra) && !(Cake.inicioEspacios(letra))){
            evt.consume();
        }
        
        if(!(buskProd.getText().isEmpty())){
            if(Cake.espacios(buskProd.getText(), letra)){
                evt.consume();
            }
        }
        else{
            if(Cake.inicioEspacios(letra)){
                evt.consume();
            }
        }
        
        if(Cake.tamaño(buskProd.getText(), 30)){
            evt.consume();
        }
    }//GEN-LAST:event_buskProdKeyTyped

    private void hechoInsActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_hechoInsActionPerformed
        if(nom.getText().isEmpty() || precMen.getText().isEmpty() || precMay.getText().isEmpty() || cadd.getText().isEmpty()){
            labelinc.setText("Todos los campos deben ser completados");
        } else{
            if(Double.parseDouble(precMay.getText()) < Double.parseDouble(precMen.getText())){
                if(aux == false){
                    aux = true;
                    String campos[] = {nom.getText(), cadd.getText(), precMay.getText(), precMen.getText()};
                    conect.insertarProducto(campos);
                    mostrarTabla("");
                    jDialog1.setVisible(false);
                }
            } else {
                labelinc.setText("El precio mayoreo debe ser menor que el precio menudeo");
            }
        }
    }//GEN-LAST:event_hechoInsActionPerformed

    private void hechoActActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_hechoActActionPerformed
        // TODO add your handling code here:
        if(nom.getText().isEmpty() || precMen.getText().isEmpty() || precMay.getText().isEmpty() || cadd.getText().isEmpty()){
            labelinc.setText("Todos los campos deben ser completados");
        } else{
            if(Double.parseDouble(precMay.getText()) < Double.parseDouble(precMen.getText())){
                if(aux == false){
                    aux = true;
                    int a = tablaVentas.getSelectedRow();
                    String elemento = "" + modelo.getValueAt(a, 0);
                    String[] campos = {nom.getText(), cadd.getText(), precMay.getText(), precMen.getText()};
                    conect.actualizarProducto(elemento, campos);
                    mostrarTabla("");
                    jDialog1.setVisible(false);
                }
            } else {
                labelinc.setText("El precio mayoreo debe ser menor que el precio menudeo");
            }
        }
    }//GEN-LAST:event_hechoActActionPerformed

    private void precMenKeyTyped(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_precMenKeyTyped
        char letra = evt.getKeyChar();
        if(!Cake.numeros(letra) && !Cake.inicioPunto(letra)){
            evt.consume();
        }
        
        if(!(precMen.getText().isEmpty())){
            if(Cake.hayPuntos(precMen.getText()) && letra=='.'){
                evt.consume();
            } else{
                if(Cake.punto(precMen.getText(), letra)){
                    evt.consume();
                }
            }
        } else{
            if(Cake.inicioPunto(letra)){
                evt.consume();
            }
        }
        
        if(Cake.tamaño(precMen.getText(), 10)){
            evt.consume();
        }
    }//GEN-LAST:event_precMenKeyTyped

    private void caddKeyTyped(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_caddKeyTyped
        char letra = evt.getKeyChar();
        if(!Cake.numeros(letra)){
            evt.consume();
        }
        
        if(Cake.tamaño(cadd.getText(), 10)){
            evt.consume();
        }
    }//GEN-LAST:event_caddKeyTyped

    private void precMayKeyTyped(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_precMayKeyTyped
        char letra = evt.getKeyChar();
        if(!Cake.numeros(letra) && !Cake.inicioPunto(letra)){
            evt.consume();
        }
        
        if(!(precMay.getText().isEmpty())){
            if(Cake.hayPuntos(precMay.getText()) && letra=='.'){
                evt.consume();
            } else{
                if(Cake.punto(precMay.getText(), letra)){
                    evt.consume();
                }
            }
        } else{
            if(Cake.inicioPunto(letra)){
                evt.consume();
            }
        }
        
        if(Cake.tamaño(precMay.getText(), 10)){
            evt.consume();
        }
    }//GEN-LAST:event_precMayKeyTyped

    private void buskProdKeyReleased(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_buskProdKeyReleased
        String instruccion = "SELECT * FROM producto WHERE nombre LIKE '%" + buskProd.getText() + "%' ORDER BY id_producto;";
        if(!buskProd.getText().isEmpty()){
            mostrarTabla(instruccion);
        }
        if(evt.getKeyCode() == KeyEvent.VK_BACK_SPACE){
            mostrarTabla(instruccion);
        }
    }//GEN-LAST:event_buskProdKeyReleased

    private void nomKeyTyped(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_nomKeyTyped
        char letra = evt.getKeyChar();
        if(!Cake.letrasMayus(letra) && !Cake.numeros(letra) && !Cake.letrasMinus(letra) && !(Cake.inicioEspacios(letra))){
            evt.consume();
        }
        
        if(!(nom.getText().isEmpty())){
            if(Cake.espacios(nom.getText(), letra)){
                evt.consume();
            }
        }
        else{
            if(Cake.inicioEspacios(letra)){
                evt.consume();
            }
        }
        
        if(Cake.tamaño(nom.getText(), 50)){
            evt.consume();
        }
    }//GEN-LAST:event_nomKeyTyped
    
    //TABLAS
    public final void mostrarTabla(String inst){
        Mise.limpiarTabla(modelo);
        if(inst.isEmpty()){
            inst = "SELECT * FROM producto ORDER BY id_producto";
        }
        llenarTabla(inst);
    }
    
    public void llenarTabla(String instruccion){
        java.sql.ResultSet rs = conect.query(instruccion);
        try{
            while(rs.next()){
                modelo.addRow( new Object[]{rs.getString("id_producto"), rs.getString("nombre"), rs.getInt("cantidad"), 
                    rs.getDouble("precio_mayoreo"), rs.getDouble("precio_menudeo")});
            }
        }catch(java.sql.SQLException e){
            System.out.println("Error al mostrar el inventario");
        }
    }
    
    public void mostrarDAct(int a){
        String elemento = "" + modelo.getValueAt(a, 0);
        leibel.setText("ID: " + elemento);
        nom.setText("" + modelo.getValueAt(a, 1));
        cadd.setText("" + modelo.getValueAt(a, 2));
        precMay.setText("" + modelo.getValueAt(a, 3));
        precMen.setText("" + modelo.getValueAt(a, 4));
    }
    
    
    
    // Variables declaration - do not modify//GEN-BEGIN:variables
    private javax.swing.JButton actB;
    private javax.swing.JButton agB;
    private javax.swing.JFormattedTextField buskProd;
    private javax.swing.JFormattedTextField cadd;
    private javax.swing.JButton eliB;
    private javax.swing.JButton hechoAct;
    private javax.swing.JButton hechoIns;
    private javax.swing.JDialog jDialog1;
    private javax.swing.JLabel jLabel1;
    private javax.swing.JLabel jLabel3;
    private javax.swing.JLabel jLabel4;
    private javax.swing.JLabel jLabel5;
    private javax.swing.JLabel jLabel6;
    private javax.swing.JPanel jPanel1;
    private javax.swing.JScrollPane jScrollPane1;
    private javax.swing.JScrollPane jScrollPane2;
    public static javax.swing.JLabel labelinc;
    private javax.swing.JLabel leibel;
    private javax.swing.JTextPane nom;
    public javax.swing.JPanel panelBotones;
    private javax.swing.JFormattedTextField precMay;
    private javax.swing.JFormattedTextField precMen;
    private javax.swing.JLabel sumLabel;
    public static javax.swing.JTable tablaVentas;
    // End of variables declaration//GEN-END:variables
}
